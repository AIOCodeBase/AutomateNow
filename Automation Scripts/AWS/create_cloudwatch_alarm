import boto3

def create_cloudwatch_alarm(alarm_name, threshold, instance_id):
    cloudwatch = boto3.client('cloudwatch')
    cloudwatch.put_metric_alarm(
        AlarmName=alarm_name,
        ComparisonOperator='GreaterThanThreshold',
        EvaluationPeriods=1,
        MetricName='CPUUtilization',
        Namespace='AWS/EC2',
        Period=300,
        Statistic='Average',
        Threshold=threshold,
        ActionsEnabled=True,
        AlarmActions=['arn:aws:sns:us-east-1:123456789012:my-topic'],
        Dimensions=[{'Name': 'InstanceId', 'Value': instance_id}],
        AlarmDescription='Alarm when CPU exceeds threshold'
    )
    print(f"Created alarm {alarm_name}")

if __name__ == "__main__":
    create_cloudwatch_alarm('High-CPU-Alarm', 80, 'i-1234567890abcdef0')

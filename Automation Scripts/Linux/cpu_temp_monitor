#!/bin/bash
# monitor cpu temperature and alert if too high

# get cpu temperature from sensors
temp=$(sensors | grep -i "core 0" | awk '{print $3}' | sed 's/[^0-9.]//g')

# threshold in celsius
threshold=80

# check if temperature exceeds threshold
if (( $(echo "$temp > $threshold" | bc -l) )); then
    echo "WARNING: CPU temperature is ${temp}째C (threshold: ${threshold}째C)"
    # log to system log
    logger "CPU temperature alert: ${temp}째C"
else
    echo "CPU temperature: ${temp}째C (normal)"
fi